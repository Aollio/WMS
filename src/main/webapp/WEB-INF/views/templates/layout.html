<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:tiles="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <title tiles:replace="title">模板</title>

    <link href="../../../resources/css/all.css" rel="stylesheet" type="text/css"
          th:href="@{/resources/css/all.css}"/>
    <script src="../../../resources/js/main.js"
            th:src="@{/resources/js/main.js}"></script>

    <script src="../../../resources/js/pageSwitch.js"
            th:src="@{/resources/js/pageSwitch.js}"></script>

    <script src="../../../resources/js/jquery-3.1.1.js"
            th:src="@{/resources/js/jquery-3.1.1.js}"></script>
    <script src="../../../resources/js/modernizr.custom.js"
            th:src="@{/resources/js/modernizr.custom.js}"></script>

    <script>
        $(document).ready(function () {
            $("#button1").click(function () {
                var values = $("#queryinput").serialize();
                $.ajax({
                    type: "get",
                    url: "/query/queryItem",    //向springboot请求数据的url
                    data: values,
                    success: function (items) {
                        $("#result_table tr").remove("tr:gt(0)")
                        //没有完成的部分，需要再每次查询后来清空原有的值
                        $.each(items, function (i, item) {
                            item = "<tr> " +
                                    "   <th>" + item.itemCode + "</th>" +
                                    "   <th>" + item.itemName + "</th>" +
                                    "   <th>" + item.itemCategoryEntity.categoryName + "</th>" +
                                    "   <th>" + item.itemCount + "</th>" +
                                    "   <th>" + "操作" + "</th>" +
                                    "</tr>";
                            $("#result_table").append(item)
                        });
                    }
                })
            });
        })
    </script>
</head>

<body>

<div class="background"></div>

<div id="load" class="load">
    <img id="loadGif" src="../../../resources/picture/loading.gif"/>
</div>

<div id="header">
    <div th:replace="templates/navBar :: navBar">
    </div>
</div>

<div id="body">
    <div id="currentPage" class="current">
        <div tiles:replace="content"></div>
    </div>
    <div id="nextPage" class="next"></div>
</div>

<div id="footer">
    <div th:replace="templates/footer :: footer">
    </div>
</div>


</body>
</html>