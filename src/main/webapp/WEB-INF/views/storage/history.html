<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:tiles="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <title th:fragment="title">入库历史</title>

    <link href="../../../resources/css/all.css" rel="stylesheet" type="text/css"/>
    <script src="../../../resources/js/main.js"></script>
</head>

<body>

<div class="content" tiles:fragment="content">
    <div class="content-nav">
        <div class="titleNav">
            <div class="title_nav title_nav_Now">
                <a>入库历史</a>
            </div>
        </div>
    </div>
    <div class="content-function">
        <button id="slide_panel_bt" class="icon-search" ></button>
        <div class="myDivBt">
            <!--<a href="add/storage_form.html" th:href="@{/storage/add}">新建入库</a>-->
            <a id="btn1" href="#" onclick="jumpTo('/storage/addajax')">新建入库</a>
        </div>
    </div>
    <div class="content-query myInput slide-panel">
          <form action="#" id="storageQueryForm" th:action="@{/query/queryItem}" method="get">
            <div class="content-query-left">
                <label>
                    操作人：
                    <input type="text" name="operationId"/>
                </label>
                <label>
                    最近多少天：
                    <input type="number" name="day" min="0"/>
                </label>
            </div>
            <div class="content-query-right">
                <input type="button" onclick="queryStorageList()" value="查询"/>
                <!--<button class="icon-after-search" onclick="queryStorageList()">查询</button>-->
            </div>
        </form>
    </div>


    <div class="content-result myTable">
        <table id="result_storage_table">
            <tr>
                <th>入库单编号</th>
                <th>入库时间</th>
                <th>操作人员ID</th>
                <th>详情</th>
            </tr>
            <tr th:if="${history == null || history.empty}">
                <td colspan="4">没有入库历史</td>
            </tr>
            <!--/*@thymesVar id="history" type="java.util.List"*/-->
            <tr th:each="itemInOperation : ${history} ">
                <!--/*@thymesVar id="itemInOperation" type="com.repository.entity.ItemInOperationEntity"*/-->
                <td th:text="${itemInOperation.storageId}"></td>
                <td th:text="${#dates.format(itemInOperation.storageTime,'yyyy-MM-dd')}"></td>
                <td th:text="${itemInOperation.operationId}"></td>
                <td th:onclick="'openStorageFormInfoPop(\''+${itemInOperation.storageId}+'\')'">详情</td>
            </tr>
        </table>
    </div>
    
    <div class="pop-bg">
        <div class="pop myInfoList myInput" style="width: 50em">
            <div class="pop-close">
                <div class="close_button" onclick="closePop()">
                    <div class="close_button-icon"></div>
                </div>
            </div>
            <section>
                入库单编号:"<span id="applyFromID"></span>
                入库人ID:<span id="usersId"></span>
                入库日期:<span id="applyTime"></span>
            </section>
            <div>
                <table id="applyFormTable" style="width: 50em">
                    <tr>
                        <td>物品条形码</td>
                        <td>申请数量</td>
                        <td>申请类型</td>
                        <td>申请备注</td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td></td>
                        <td></td>
                        <td>1</td>
                    </tr>
                    <tr>
                        <td></td>
                        <td>1</td>
                        <td>1</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td></td>
                        <td>1</td>
                        <td></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td class="myTable-operation" onclick="">通过</td>
                        <td class="myTable-operation">不通过</td>
                        <td></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

</body>
</html>