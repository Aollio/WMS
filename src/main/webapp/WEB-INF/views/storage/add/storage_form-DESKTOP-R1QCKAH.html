<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:tiles="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <title tiles:fragment="title">新建入库单</title>

    <link href="../../../../resources/css/all.css" rel="stylesheet" type="text/css"/>
    <script src="../../../../resources/js/main.js"></script>
</head>

<body>

<div class="content" id="content" th:fragment="content" tiles:fragment="content">
    <div class="content-nav">
        <div class="titleNav">
            <div class="title_nav title_nav_Now">
                <a>新建入库单</a>
            </div>
        </div>
    </div>

    <div class="content-function">
        <div class="myDivBt">
            <a href="additem.html" th:href="@{/storage/add/additem}" th:method="get">添加物品</a>
        </div>
    </div>
    <div class="content-function">
        <div class="myDivBt">
            <a type="button" onclick="jump2StorageAddItem()">添加物品ajax</a>
        </div>
    </div>

    <div class="content-result myTable">
        <table id="storagetable">
            <caption>
                入库单编号：<p th:text="${session.storageForm.inStorageId}"></p>
            </caption>
            <tr>
                <th>物品条形码</th>
                <th>入库数量</th>
                <th>入库价格</th>
                <th>发票代码</th>
                <th>详情</th>
                <th>删除</th>
            </tr>
            <!--<tr th:if="${session.storageForm.itemForms.isEmpty()}">-->
                <!--<td colspan="5">入库单中没有物品，请添加</td>-->
            <!--</tr>-->
            <tr th:if="${session.storageForm != null}"
                th:each="itemForm:${session.storageForm.itemForms}">
                <td th:text="${itemForm.itemCode}"></td>
                <td th:text="${itemForm.itemCount}"></td>
                <td th:text="${itemForm.itemPrice}"></td>
                <td th:text="${itemForm.billCode}"></td>
                <td class="icon-search"
                    th:onclick="'javascript:openPopAdd(\''+${itemForm.itemCode}+'\',\''+${itemForm.itemName}+'\')'">
                </td>
                <!--<td th:onclick="'javascript:two(\''+${itemForm}+'\')'">-->
                    <!--<div class="icon-cross"></div>-->
                <!--</td>-->
                <td
                    th:onclick="'javascript:deleteStroageItem(\''+${itemForm.itemCode}+'\','+${itemFormStat.index}+')'">
                    <div class="icon-cross"></div>
                </td>
            </tr>
            <div class="pop_add-bg">
                <div class="pop_add myInfoList myInput">
                    <div class="pop-close">
                        <div class="close_button" onclick="closePopAdd()">
                            <div class="close_button-icon"></div>
                        </div>
                    </div>
                    <form action="additem.html" method="get">
                        <ul>
                            <li>
                                <label>
                                    <div class="name">
                                        物品条形码：
                                    </div>
                                    <div class="value">
                                        <input type="text" name="itemCode" value="条形码"
                                               readonly="readonly"/>
                                    </div>
                                </label>
                            </li>
                            <li>
                                <label>
                                    <div class="name">
                                        物品名称：
                                    </div>
                                    <div class="value">
                                        <input type="text" name="itemName" value="名称"
                                               readonly="readonly"/>
                                    </div>
                                </label>
                            </li>
                            <li>
                                <label>
                                    <div class="name">
                                        申请数量：
                                    </div>
                                    <div class="value">
                                        <input type="number" name="applyNum"/>
                                    </div>
                                </label>
                            </li>
                            <li>
                                <label>
                                    <div class="name">
                                        申请备注：
                                    </div>
                                    <div class="value">
                                        <input type="text" name="remark"/>
                                    </div>
                                </label>
                            </li>
                            <li>
                                <label>
                                    <div class="name">
                                        申请类型：
                                    </div>
                                    <div class="value">
                                        <select name="applyType">
                                            <option value="常规使用">常规使用</option>
                                            <option value="特殊需求">特殊需求</option>
                                            <option value="过期处理">过期处理</option>
                                            <option value="库存清点">库存清点</option>
                                            <option value="其他">其他</option>
                                        </select>
                                    </div>
                                </label>
                            </li>
                            <li>
                                <input type="button" onclick="closePopAdd()" value="取消"/>
                                <input type="submit" onclick="closePopAdd()" value="增加物品"/>
                            </li>
                        </ul>
                    </form>
                </div>
            </div>
        </table>
        <div class="content-result-operation">
            <div class="myDivBt">
                <a href="../history.html" th:href="@{/storage/add/submit}">提交</a>
            </div>
            <div class="myDivBt" onclick="deleteAll()">
                <a href="../history.html">取消</a>
            </div>
        </div>
    </div>

</div>
</body>
</html>